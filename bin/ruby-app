#!/usr/bin/env ruby

require 'rubygems'
require 'thor/group'

class RubyAppGenerator < Thor::Group
  include Thor::Actions
 
  # Define arguments and options
  argument :name
 
  def copy_tree
    directory('', "#{name}/")
    empty_directory("#{name}/log")
    empty_directory("#{name}/tmp")
  end
  
  def chmod_example_bin
    chmod "#{name}/bin/dummy", 0755
    chmod "#{name}/bin/console", 0755
  end
  
private

  def self.source_root
    File.join(File.dirname(__FILE__), %w{.. generator})
  end
  
  def base_name 
    File.basename(name)
  end
  
end

RubyAppGenerator.start